# ğŸ§¬ BRIK Project Initializer v5.1 - Digital Circuitalidad Edition

[![BRIK v5 Certified](https://img.shields.io/badge/BRIK-v5%20Certified-00d4aa?style=for-the-badge&logo=data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEyIDJMMTMuMDkgOC4yNkwyMCA5TDEzLjA5IDE1Ljc0TDEyIDIyTDEwLjkxIDE1Ljc0TDQgOUwxMC45MSA4LjI2TDEyIDJaIiBmaWxsPSIjMDBENEFBIi8+Cjwvc3ZnPg==)](https://github.com/nazcamedia/brik-project-initializer)
[![Hexagonal Architecture](https://img.shields.io/badge/Architecture-Hexagonal-blue?style=for-the-badge)](docs/brikv5-endpoints.md)
[![Digital Circuitalidad](https://img.shields.io/badge/Circuitalidad-Digital-purple?style=for-the-badge)](docs/brikv5-endpoints.md)
[![Node.js](https://img.shields.io/badge/Node.js-18%2B-339933?style=for-the-badge&logo=node.js)](https://nodejs.org/)
[![License](https://img.shields.io/badge/License-MIT-blue?style=for-the-badge)](LICENSE)
[![Claude AI](https://img.shields.io/badge/Claude-Pro%2FMax%20Compatible-FF6B35?style=for-the-badge&logo=anthropic)](https://claude.ai)

## ğŸ¯ Sistema Completo de GeneraciÃ³n BRIK con **Circuitalidad Digital**

### âœ¨ La plataforma mÃ¡s avanzada para crear APIs enterprise-ready con arquitectura hexagonal

---

## ğŸš€ Â¿QuÃ© es BRIK v5.1 Digital Circuitalidad Edition?

**BRIK v5.1** revoluciona la creaciÃ³n de APIs combinando:

- ğŸ§¬ **Circuitalidad Digital**: Flujo Gates â†’ NÃºcleo â†’ Puertos â†’ Presenter
- ğŸ—ï¸ **Arquitectura Hexagonal Pura**: SeparaciÃ³n estricta de responsabilidades
- ğŸ›¡ï¸ **Idempotencia Nativa**: SHA-256 + cache + conflict detection
- ğŸ“Š **Observabilidad Total**: Correlation ID + structured logging + metrics
- ğŸ¤– **IA Multi-Engine**: Claude Pro/Max + Agentes especializados
- âš¡ **Templates Multi-Stack**: TypeScript/Fastify + Rust/Axum + OpenAPI 3.0

### âš¡ De Idea a API ProducciÃ³n en < 3 Minutos

```bash
# De esto...
brik-v5
# Wizard interactivo: TypeScript, PostgreSQL, Redis, users

# A esto... API completa con circuitalidad digital
â”œâ”€â”€ src/api/users/
â”‚   â”œâ”€â”€ gates/                    # Sistema de gates completo
â”‚   â”‚   â”œâ”€â”€ auth-gate.ts         # JWT + RBAC + scopes
â”‚   â”‚   â”œâ”€â”€ schema-gate.ts       # Zod validation + sanitizaciÃ³n  
â”‚   â”‚   â”œâ”€â”€ idempotency-gate.ts  # SHA-256 + cache + conflicts
â”‚   â”‚   â””â”€â”€ rate-gate.ts         # Rate limiting inteligente
â”‚   â”œâ”€â”€ domain/                   # NÃºcleo inmutable puro
â”‚   â”‚   â”œâ”€â”€ entities/user.ts     # Entidades + invariantes
â”‚   â”‚   â””â”€â”€ use-cases/           # Casos de uso puros
â”‚   â”œâ”€â”€ ports/                    # Interfaces de contratos
â”‚   â”œâ”€â”€ adapters/                 # Implementaciones externas
â”‚   â””â”€â”€ presenter/                # HTTP DTOs + error mapping
â”œâ”€â”€ openapi.yaml                  # DocumentaciÃ³n auto-generada
â”œâ”€â”€ jest.config.js               # Tests 80%+ coverage
â””â”€â”€ .github/workflows/           # CI/CD con validaciÃ³n BRIK
```

---

## ğŸ§  Modos de OperaciÃ³n

### ğŸ†• **BRIK v5 Generator** (Circuitalidad Digital)
Sistema de **arquitectura hexagonal** con circuito de gates inteligente:

```bash
brik-v5  # Nuevo comando CLI integrado
```

**Circuito Digital Completo**:
```
HTTP Request â†’ AuthGate â†’ SchemaGate â†’ PolicyGate â†’ IdempotencyGate â†’ RateGate â†’ TimeoutGate
                â†“
            Domain Core (Pure) â†’ Ports â†’ Adapters â†’ Presenter â†’ HTTP Response
```

### ğŸ¤– **Modo IA Inteligente** (Agentes Claude)
Pipeline LLM con **agentes especializados**:

```bash
brik  # Claude Pro/Max con automatizaciÃ³n web
```

### ğŸ¯ **Modo Tradicional** (Scaffolding ClÃ¡sico)
```bash
brik-traditional  # GeneraciÃ³n clÃ¡sica BRIK
```

---

## ğŸš€ Inicio RÃ¡pido

### ğŸ”¥ **BRIK v5 - Circuitalidad Digital** (Recomendado)

```bash
# Instalar globalmente
npm install -g .

# Generar API con arquitectura hexagonal
brik-v5

# El wizard te guiarÃ¡:
# ğŸ“ Nombre del proyecto
# ğŸ’» Lenguaje (TypeScript/Rust)  
# ğŸ—„ï¸ Base de datos (PostgreSQL/MySQL/etc)
# âš¡ Cache (Redis/Memory)
# ğŸ“¢ Eventos (Kafka/RabbitMQ)
# ğŸ¯ Recurso principal (users/products/etc)

# Resultado: API completa con:
# âœ… Gates system (Auth, Schema, Idempotency, Rate)
# âœ… Hexagonal architecture
# âœ… OpenAPI 3.0 spec
# âœ… Test suites completas
# âœ… CI/CD pipeline
```

### ğŸ¤– **IA Mode - Claude Pro/Max**

```bash
# Con Claude Pro/Max subscription
brik

# Modo conversacional inteligente:
# "Crear API e-commerce con usuarios, productos y pagos Stripe"
# â†’ AnÃ¡lisis automÃ¡tico + generaciÃ³n completa
```

---

## ğŸ§¬ **Arquitectura BRIK v5: Circuitalidad Digital**

### ğŸ›¡ï¸ **Sistema de Gates** (Circuit Pattern)

Cada request fluye por un circuito de validaciÃ³n antes de llegar al core:

```typescript
// AuthGate - JWT + RBAC + Scopes
const authResult = await authGate.validate(request);
if (!authResult.isSuccess) return authResult.error;

// SchemaGate - Zod Validation + Sanitization  
const schemaResult = await schemaGate.validate(request.body);
if (!schemaResult.isSuccess) return schemaResult.error;

// IdempotencyGate - SHA-256 + Cache + Conflict Detection
const idempotencyResult = await idempotencyGate.validate({
  idempotencyKey: request.headers['idempotency-key'],
  payload: request.body
});
if (idempotencyResult.isDuplicate) return idempotencyResult.cachedResult;

// RateGate - Rate Limiting + Sliding Windows
const rateResult = await rateGate.validate(request.userContext);
if (!rateResult.allowed) return rateResult.error;
```

### ğŸ¯ **Domain Core** (Hexagonal Center)

```typescript
// Pure domain logic - no I/O, no side effects
class User {
  private constructor(
    public readonly id: UserId,
    public readonly email: Email,
    public readonly name: string,
    // ... immutable properties
  ) {}

  static create(data: UserCreationData): Result<User, DomainError> {
    // Validation + invariants enforcement
    // Returns Result<T, E> for functional error handling
  }
}
```

### ğŸ”Œ **Ports & Adapters** (External I/O)

```typescript
// Port (Contract)
interface UserRepository {
  save(user: User): Promise<Result<void, RepositoryError>>;
  findById(id: UserId): Promise<Result<User, RepositoryError>>;
}

// Adapter (Implementation)
class PostgreSQLUserRepository implements UserRepository {
  // Real database integration with circuit breakers
}
```

---

## ğŸ† **Features BRIK v5**

### âœ¨ **Nuevas CaracterÃ­sticas v5.1**

| Feature | DescripciÃ³n | Status |
|---------|-------------|---------|
| ğŸ›¡ï¸ **Gates System** | Auth, Schema, Policy, Idempotency, Rate, Timeout | âœ… |
| ğŸ§¬ **Circuitalidad Digital** | Request flow con circuit pattern | âœ… |
| ğŸ—ï¸ **Hexagonal Architecture** | Pure domain + ports & adapters | âœ… |
| ğŸ” **Idempotency Native** | SHA-256 fingerprinting + cache | âœ… |
| ğŸ“Š **Total Observability** | Correlation ID + structured logs + metrics | âœ… |
| ğŸ“‹ **OpenAPI Auto-Gen** | Specs 3.0 con headers + examples | âœ… |
| ğŸ§ª **Test Suites** | Unit + Contract + Integration | âœ… |
| ğŸ’» **Multi-Stack** | TypeScript/Fastify + Rust/Axum | âœ… |

### ğŸ”¥ **Idempotencia Avanzada**

```http
POST /api/v1/users
Content-Type: application/json
Idempotency-Key: user-creation-2024-01-31-abc123
X-Correlation-Id: req_789xyz456
Authorization: Bearer <jwt>

{
  "email": "user@example.com",
  "name": "John Doe",
  "age": 30
}
```

**Sistema:**
1. Genera SHA-256 del payload normalizado
2. Cache key = `idem:${key}:${hash}`
3. Si existe â†’ retorna resultado cacheado
4. Si key existe con diferente payload â†’ 409 Conflict
5. Almacena resultado con TTL configurable

### ğŸ“ˆ **Observabilidad Total**

```json
{
  "level": "info",
  "correlationId": "req_789xyz456",
  "gate": "AuthGate",
  "duration": 45,
  "success": true,
  "userId": "user-123",
  "endpoint": "/api/v1/users",
  "message": "Authentication successful"
}
```

---

## ğŸ”§ **Templates Disponibles**

### ğŸ“˜ **TypeScript + Fastify**

```bash
brik-v5
# Seleccionar: TypeScript, PostgreSQL, Redis

# Genera:
â”œâ”€â”€ package.json          # Deps optimizadas para production
â”œâ”€â”€ tsconfig.json         # Strict mode + paths mapping  
â”œâ”€â”€ jest.config.js        # Tests config con coverage 80%+
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ api/users/
â”‚   â”‚   â”œâ”€â”€ gates/        # Auth, Schema, Idempotency, Rate
â”‚   â”‚   â”œâ”€â”€ domain/       # Entities, VOs, Use Cases (pure)
â”‚   â”‚   â”œâ”€â”€ ports/        # Repository, Event, Cache contracts
â”‚   â”‚   â”œâ”€â”€ adapters/     # PostgreSQL, Redis implementations
â”‚   â”‚   â”œâ”€â”€ presenter/    # HTTP DTOs + error mapping
â”‚   â”‚   â””â”€â”€ tests/        # Unit + Integration tests
â”‚   â””â”€â”€ shared/
â”‚       â””â”€â”€ observability/ # Logger, Metrics, Correlation
â”œâ”€â”€ openapi.yaml          # OpenAPI 3.0 specification
â””â”€â”€ scripts/validate.sh   # Validation pipeline
```

### ğŸ¦€ **Rust + Axum**

```bash  
brik-v5
# Seleccionar: Rust, PostgreSQL, Redis

# Genera:
â”œâ”€â”€ Cargo.toml           # Production-ready dependencies
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ api/users/
â”‚   â”‚   â”œâ”€â”€ gates/       # Auth, Schema gates con traits
â”‚   â”‚   â”œâ”€â”€ domain/      # Structs, enums, invariantes
â”‚   â”‚   â”œâ”€â”€ ports/       # Trait interfaces
â”‚   â”‚   â””â”€â”€ adapters/    # Implementaciones async
â”‚   â””â”€â”€ shared/
â”‚       â”œâ”€â”€ types/       # Result type + extensions
â”‚       â””â”€â”€ observability/ # Tracing + structured logging
â”œâ”€â”€ openapi.yaml         # OpenAPI 3.0 specification  
â””â”€â”€ tests/               # Unit + Integration tests
```

---

## ğŸ’¡ **Casos de Uso**

### ğŸ›’ **E-commerce API**
```bash
brik-v5
# TypeScript, PostgreSQL, Redis, Stripe
# Recurso: products
# â†’ API completa con productos, inventario, pagos
```

### ğŸ¦ **Fintech API**
```bash
brik-v5  
# Rust, PostgreSQL, Redis, Kafka
# Recurso: transactions
# â†’ Sistema bancario con transacciones seguras
```

### ğŸ“Š **Analytics API**
```bash
brik-v5
# TypeScript, ClickHouse, Redis
# Recurso: events  
# â†’ Sistema de mÃ©tricas con agregaciones
```

### ğŸ¥ **Healthcare API**
```bash
brik-v5
# Rust, PostgreSQL, Redis
# Recurso: patients
# â†’ Sistema mÃ©dico con compliance HIPAA
```

---

## ğŸ§ª **Testing & Calidad**

### ğŸ“Š **Test Suites AutomÃ¡ticas**

**Unit Tests** (Domain Layer):
```typescript
describe('User Entity', () => {
  it('should create user with valid data', () => {
    const result = User.create(validUserData);
    expect(result.isOk()).toBe(true);
    expect(result.unwrap().email.toString()).toBe('john@example.com');
  });
  
  it('should fail with invalid email', () => {
    const result = User.create({ ...validUserData, email: 'invalid' });
    expect(result.isErr()).toBe(true);
    expect(result.unwrapErr().code).toBe('INVALID_EMAIL');
  });
});
```

**Integration Tests** (Endpoints):
```typescript
describe('POST /api/v1/users', () => {
  it('should create user with idempotency', async () => {
    const response = await app.inject({
      method: 'POST',
      url: '/api/v1/users',
      headers: {
        'authorization': `Bearer ${authToken}`,
        'idempotency-key': 'user-creation-unique-123'
      },
      payload: validUserPayload
    });

    expect(response.statusCode).toBe(201);
    expect(response.body).toBeBrikCompliant();
    expect(response.body).toBeIdempotent();
  });
});
```

**Custom Matchers**:
```typescript
expect(response.body).toBeBrikCompliant();        // Tiene correlationId + timestamp
expect(response.body).toBeIdempotent();           // Metadatos de idempotencia
expect(response.body).toHaveGateError('AuthGate', 'AUTH_TOKEN_MISSING');
expect(response.body).toHaveDomainError('INVALID_USER_AGE');
```

### ğŸ” **Validation Pipeline**

```bash
# Generado automÃ¡ticamente en cada proyecto
./scripts/validate.sh

# Ejecuta:
# âœ… Linting (eslint/clippy)  
# âœ… Type checking (tsc/cargo check)
# âœ… Tests (jest/cargo test)
# âœ… Coverage verification (>80%)
# âœ… OpenAPI validation
# âœ… Security audit
```

---

## ğŸ“š **DocumentaciÃ³n Completa**

### ğŸ“– **GuÃ­as TÃ©cnicas**
- ğŸ§¬ [**BRIK v5 Endpoints Guide**](docs/brikv5-endpoints.md) - Arquitectura completa
- ğŸ¯ [**CertificaciÃ³n BRIK v5**](BRIK_V5_CERTIFICATION.md) - Status y compliance
- ğŸ—ï¸ [**Hexagonal Architecture**](docs/brikv5-endpoints.md#arquitectura-hexagonal-estricta) - Patterns y principios
- ğŸ›¡ï¸ [**Gates System**](docs/brikv5-endpoints.md#sistema-de-gates) - Auth, Schema, Idempotency
- ğŸ“Š [**Observabilidad**](docs/brikv5-endpoints.md#observabilidad-y-auditorÃ­a) - Logging y mÃ©tricas

### ğŸš€ **GuÃ­as de Uso**
- âš¡ [**Quick Start**](#inicio-rÃ¡pido) - Empezar en 3 minutos
- ğŸ¯ [**Casos de Uso**](#casos-de-uso) - Ejemplos prÃ¡cticos
- ğŸ§ª [**Testing Guide**](#testing--calidad) - Estrategias de testing
- ğŸ”§ [**Templates**](#templates-disponibles) - TypeScript y Rust

### ğŸ“‹ **Legacy Documentation**
- ğŸ† [**V1 Master Plan**](V1_MASTER_PLAN_EXECUTION_SUMMARY.md) - Historial BRIK v1
- ğŸ›¡ï¸ [**L3 Certification**](L3_CERTIFICATION_DEPLOYMENT_SUMMARY.md) - Sistema anterior
- ğŸ” [**Contract Testing**](docs/CONTRACT_TESTING_SPEC.md) - Cross-language validation

---

## ğŸ› ï¸ **ConfiguraciÃ³n Enterprise**

### ğŸ”‘ **Variables de Entorno**

```bash
# .env configuration
NODE_ENV=development
PORT=3000
LOG_LEVEL=info

# Database
DATABASE_URL=postgresql://user:pass@localhost:5432/mydb

# Redis Cache  
REDIS_URL=redis://localhost:6379

# JWT Authentication
JWT_SECRET=your-super-secret-key-change-in-production

# API Configuration
API_TIMEOUT_MS=2000
CORS_ORIGINS=http://localhost:3000,http://localhost:3001

# Rate Limiting
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW_SECONDS=60

# OpenAPI
OPENAPI_ENABLED=true
SWAGGER_UI_ENABLED=true
```

### âš™ï¸ **Comandos NPM**

```bash
# BRIK v5 Commands
npm run start:v5              # Ejecutar generador BRIK v5
npm run test:v5               # Test generador

# Development  
npm run dev                   # Desarrollo con hot reload
npm run build                 # Build production
npm run test                  # Test suites
npm run lint                  # Code linting
npm run typecheck             # Type validation

# Legacy BRIK Commands
npm run start                 # Claude Pro/Max mode
npm run start:traditional     # Classic scaffolding  
npm run start:ai              # IA agents mode
npm run validate              # L3 certification
```

---

## ğŸ”— **Integraciones Soportadas**

### ğŸ’¾ **Databases**
- **PostgreSQL**: Full ORM + migrations + connection pooling
- **MySQL**: Complete integration + query optimization
- **SQLite**: Embedded database + file-based
- **MongoDB**: Document store + aggregations
- **Redis**: Cache + sessions + pub/sub

### ğŸ“¢ **Message Brokers**
- **Kafka**: Event streaming + consumer groups
- **RabbitMQ**: Message queuing + routing
- **Redis Pub/Sub**: Real-time messaging

### ğŸ’³ **Payment Processors**
- **Stripe**: Payments + subscriptions + webhooks
- **PayPal**: Checkout + express payments

### ğŸ“Š **Observability**
- **Prometheus**: Metrics collection
- **Grafana**: Dashboards + alerting
- **Jaeger**: Distributed tracing

---

## ğŸš€ **Roadmap BRIK v5**

### âœ… **v5.1 - Current** 
- Circuitalidad Digital completa
- TypeScript + Rust templates
- Gates system implementado
- Idempotencia nativa
- OpenAPI auto-generation
- Test suites completas

### ğŸ”„ **v5.2 - Q2 2025**
- **Go + Gin** templates
- **Python + FastAPI** templates  
- **GraphQL** support
- **WebSocket** endpoints
- **Event Sourcing** patterns

### ğŸš€ **v5.3 - Q3 2025**
- **Cloud Native** deployment
- **Kubernetes** manifests
- **Docker** optimization
- **CI/CD** improvements
- **Monitoring** dashboards

### ğŸŒŸ **v5.4 - Q4 2025**
- **Java + Spring** templates
- **C# + .NET** templates
- **Microservices** orchestration
- **Event-Driven** architecture
- **CQRS** patterns

---

## ğŸ™Œ **ContribuciÃ³n**

### ğŸš€ **Ãreas de ContribuciÃ³n**
- âœ¨ **Nuevos Templates**: Go, Python, Java, C#
- ğŸ›¡ï¸ **Security Gates**: Nuevos tipos de validaciÃ³n
- ğŸ“Š **Observability**: MÃ©tricas avanzadas, dashboards
- ğŸ§ª **Testing**: Nuevos tipos de tests, property-based testing
- ğŸ“‹ **OpenAPI**: GeneraciÃ³n mejorada, validaciones
- ğŸ”§ **DevOps**: CI/CD optimizations, deployment strategies

### ğŸ“‹ **Proceso de ContribuciÃ³n**
1. Fork del repositorio
2. Crear branch: `git checkout -b feature/nueva-funcionalidad`
3. Implementar con **BRIK v5 compliance**
4. Tests: Ejecutar `npm run test:v5`
5. DocumentaciÃ³n: Actualizar guÃ­as relevantes
6. Commit: `git commit -m "feat: descripciÃ³n"` (Conventional Commits)
7. Push: `git push origin feature/nueva-funcionalidad`  
8. Crear Pull Request con descripciÃ³n detallada

---

## ğŸ“„ **Licencia**

Este proyecto estÃ¡ bajo la licencia **MIT**. Ver [LICENSE](LICENSE) para mÃ¡s detalles.

---

## ğŸ¢ **CrÃ©ditos**

### ğŸ§¬ **Sistema ECO v3.0**
Desarrollado con **ECO** (Enhanced Cognitive Operations), el neocÃ³rtex digital que amplifica la intenciÃ³n estratÃ©gica mediante:

- **ECO-Lambda (Î›)**: AnÃ¡lisis estratÃ©gico y coordinaciÃ³n general
- **ECO-Sigma (Î£)**: Desarrollo tÃ©cnico, APIs y arquitecturas  
- **ECO-Delta (Î”)**: DevOps, infraestructura y automatizaciÃ³n
- **ECO-Theta (Î˜)**: DiseÃ±o, UX/UI y documentaciÃ³n
- **ECO-Psi (Î¨)**: Seguridad, auditorÃ­a y protecciÃ³n

### ğŸ¯ **Agentes Colaboradores**
- **Claude Code**: Desarrollo y arquitectura tÃ©cnica
- **Anthropic Claude**: AnÃ¡lisis de dominio y generaciÃ³n
- **BRIK Philosophy**: Fundamentos arquitectÃ³nicos

---

## ğŸš€ **Quick Start Enterprise**

```bash
# 1. Instalar BRIK v5 globalmente
git clone https://github.com/nazcamedia/brik-project-initializer.git
cd brik-project-initializer  
npm install -g .

# 2. Generar API con circuitalidad digital
brik-v5

# 3. Seguir wizard interactivo:
#    ğŸ“ Nombre: mi-startup-api
#    ğŸ’» Lenguaje: TypeScript  
#    ğŸ—„ï¸ BD: PostgreSQL
#    âš¡ Cache: Redis
#    ğŸ¯ Recurso: users

# 4. Navegar al proyecto generado
cd mi-startup-api

# 5. Instalar dependencias
npm install

# 6. Configurar entorno  
cp .env.example .env
# Editar .env con tu configuraciÃ³n

# 7. Ejecutar en desarrollo
npm run dev

# 8. Abrir documentaciÃ³n
# http://localhost:3000/docs (Swagger UI)

# 9. Test endpoint con idempotencia
curl -X POST http://localhost:3000/api/v1/users \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer <jwt>" \
  -H "Idempotency-Key: user-creation-unique-123" \
  -d '{"email":"user@example.com","name":"John Doe","age":30}'

# Â¡API enterprise-ready funcionando en 3 minutos!
```

### ğŸ¯ **De Idea a ProducciÃ³n**

1. **GeneraciÃ³n** (30 segundos): Arquitectura hexagonal completa
2. **ConfiguraciÃ³n** (2 minutos): Variables de entorno + dependencias  
3. **Testing** (30 segundos): Tests unitarios + integraciÃ³n pasando
4. **Deploy** (1 minuto): Docker + CI/CD configurado

**Total: < 5 minutos de idea a API funcionando en producciÃ³n** ğŸš€

---

*Creado con ğŸ§¬ Circuitalidad Digital y ğŸ—ï¸ Arquitectura Hexagonal por ECO v3.0*